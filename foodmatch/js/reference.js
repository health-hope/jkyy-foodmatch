"use strict";var openIdItem=window.localStorage.getItem("openIdItem")||"",foodMatchtype=window.localStorage.getItem("foodMatchtype")||"",foodMatchChannel=window.localStorage.getItem("foodMatchChannel")||"",echartsColor=["#FECE55","#FE8B55","#5DECDB","#5DB1EC","#915DEC","#EC5DA4"];new Vue({el:"#containerBox",data:{ratioData:[],dataShowList:{},isActive:!1,heat:"",protein:"",fat:"",carbohydrate:"",cholesterol:"",mineral:{},vitamin:{},dietaryFiber:"",isShowSSXW:!1,isShowReference:!1,isShowYS:!1,folicAcid:""},mounted:function(){this.$nextTick(function(){hideLoading(),this.initData()})},methods:{initData:function(){var t=this;if(isEmpty(foodMatchChannel))var e={type:JSON.parse(foodMatchtype),openId:JSON.parse(openIdItem)};else e={type:JSON.parse(foodMatchtype),openId:JSON.parse(openIdItem),foodMatchChannel:JSON.parse(foodMatchChannel)};ajaxRequest("/v2/food/matching/diet/energy/ratio/query.do","POST",e,function(e){"SUCCESS"==e.retCode?(hideLoading(),t.ratioData=e.ratioData,t.showEneryRatio(),t.dataShowList=e.ratioData,t.dataProcess()):showTip(e.tooltip)}),ajaxRequest("/v2/food/matching/nutrient/reference/query.do","POST",e,function(e){"SUCCESS"==e.retCode?(t.heat=e.heat,t.protein=e.protein,t.fat=e.fat,t.carbohydrate=e.carbohydrate,t.mineral=e.mineral,t.vitamin=e.vitamin,t.cholesterol=e.cholesterol,e.dietaryFiber&&""!=e.dietaryFiber?(t.dietaryFiber=e.dietaryFiber,t.isShowSSXW=!0):t.isShowSSXW=!1,e.vitamin.folicAcid&&""!=e.vitamin.folicAcid?(t.folicAcid=e.vitamin.folicAcid,t.isShowYS=!0):t.isShowYS=!1,t.isShowReference=!0,hideLoading()):showTip(e.tooltip)})},dataProcess:function(){for(var e=0;e<this.dataShowList.length;e++)this.dataShowList[e].color=echartsColor[e]},showEneryRatio:function(){var e=echarts.init(document.getElementById("eneryRatio")),t={color:echartsColor,series:[{name:"能量占比",type:"pie",radius:["56%","73%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{show:!1,fontSize:"10",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.ratioData}]};e.setOption(t)},generateRecipes:function(){window.location.href="weekdiet.html"},toIndex:function(){isEmpty(foodMatchChannel)?window.location.href="../index.html?openIdItem="+JSON.parse(openIdItem)+"&foodMatchtype="+parseInt(JSON.parse(foodMatchtype)):window.location.href="../index.html?openIdItem="+JSON.parse(openIdItem)+"&foodMatchtype="+parseInt(JSON.parse(foodMatchtype))+"&foodMatchChannel="+parseInt(JSON.parse(foodMatchChannel))}}});